<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Stowe Lane Parcels Viewer (Auto-Zoom + Satellite)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 100vh; }
    .leaflet-label {
      background: rgba(255, 255, 255, 0.85);
      padding: 2px 4px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const map = L.map('map');

    const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 20,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    const satellite = L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
      maxZoom: 20,
      subdomains:['mt0','mt1','mt2','mt3'],
      attribution: '© Google Satellite'
    });

    const baseMaps = {
      "OpenStreetMap": osm,
      "Satellite": satellite
    };
    L.control.layers(baseMaps).addTo(map);

    const parcelData = {"type": "FeatureCollection", "features": [{"type": "Feature", "properties": {"APN": "074-311-510"}, "geometry": {"type": "Polygon", "coordinates": [[[-122.18929078018286, 37.41991392624783], [-122.1891214809779, 37.41990221173174], [-122.18898235443433, 37.41986535419535], [-122.18878102360014, 37.419811992995044], [-122.18868681233565, 37.419787058422884], [-122.18871937672311, 37.4197088632639], [-122.18862133989806, 37.41968289043674], [-122.18858877535709, 37.41976108282267], [-122.18811495955745, 37.41963555541175], [-122.18832309764002, 37.41935881755142], [-122.18872004348562, 37.419526453638895], [-122.18878375471598, 37.41967485562211], [-122.18880664473987, 37.41972816770814], [-122.1888728266209, 37.4197457209401], [-122.18886110174438, 37.41977488330891], [-122.18885971121317, 37.41977918300453], [-122.18885889788717, 37.41978357327993], [-122.18885866759595, 37.41978800735381], [-122.18885902610701, 37.41979243569883], [-122.18885996892115, 37.419796811682374], [-122.18886148108611, 37.41980108332847], [-122.18886355459766, 37.419805201307966], [-122.18886615753748, 37.41980912487676], [-122.18886926474875, 37.41981280769952], [-122.18887284080807, 37.41981620633568], [-122.18887684709757, 37.41981928837821], [-122.18888124137007, 37.41982201323162], [-122.18888596797947, 37.419824356974765], [-122.18889097797906, 37.4198262873493], [-122.18897153363493, 37.41984771826207], [-122.18897867377798, 37.419850181083376], [-122.18898602138015, 37.419852223388], [-122.18899353469118, 37.41985382654859], [-122.18900117909526, 37.419854982822756], [-122.18900890632914, 37.41985569015838], [-122.189016678334, 37.41985594086259], [-122.18902445379463, 37.41985573553016], [-122.18903218801492, 37.41985507755152], [-122.18903984306041, 37.419853964725824], [-122.18904996104145, 37.41985363227296], [-122.18906008896575, 37.41985373918101], [-122.18907019590931, 37.41985428864205], [-122.18908024725661, 37.41985527291375], [-122.1890902189073, 37.41985669234308], [-122.18910007981306, 37.41985854463021], [-122.18910979873911, 37.41986081923716], [-122.18911934808004, 37.419863513814505], [-122.18912870004395, 37.41986661777483], [-122.18913782345821, 37.41987012332627], [-122.1891466592952, 37.41987324845054], [-122.18915569945855, 37.41987596683721], [-122.1891649231662, 37.41987827329167], [-122.18917429229722, 37.41988015737506], [-122.18918378262666, 37.41988161394235], [-122.18919336298154, 37.419882635201574], [-122.18920299899457, 37.419883224394454], [-122.18921265949277, 37.41988337372909], [-122.1892223169947, 37.41988308634802], [-122.18923193700873, 37.419882360001004], [-122.18924149211561, 37.41988120057658], [-122.18925094794798, 37.41987961131654], [-122.18931523479979, 37.41986866496951], [-122.1893101661218, 37.41991526779109], [-122.18929078018286, 37.41991392624783]]]}}, {"type": "Feature", "properties": {"APN": "074-311-520"}, "geometry": {"type": "Polygon", "coordinates": [[[-122.18897153363493, 37.41984771826207], [-122.18901596770046, 37.419838997190766], [-122.18912211447335, 37.41964487522131], [-122.1893937101472, 37.41974569323376], [-122.18932342168608, 37.419793364273275], [-122.18931523479979, 37.41986866496951], [-122.18925094794798, 37.41987961131654], [-122.18924149211561, 37.41988120057658], [-122.18923193700873, 37.419882360001004], [-122.1892223169947, 37.41988308634802], [-122.18921265949277, 37.41988337372909], [-122.18920299899457, 37.419883224394454], [-122.18919336298154, 37.419882635201574], [-122.18918378262666, 37.41988161394235], [-122.18917429229722, 37.41988015737506], [-122.1891649231662, 37.41987827329167], [-122.18915569945855, 37.41987596683721], [-122.1891466592952, 37.41987324845054], [-122.18913782345821, 37.41987012332627], [-122.18912870004395, 37.41986661777483], [-122.18911934808004, 37.419863513814505], [-122.18910979873911, 37.41986081923716], [-122.18910007981306, 37.41985854463021], [-122.1890902189073, 37.41985669234308], [-122.18908024725661, 37.41985527291375], [-122.18907019590931, 37.41985428864205], [-122.18906008896575, 37.41985373918101], [-122.18904996104145, 37.41985363227296], [-122.18903984306041, 37.419853964725824], [-122.18903218801492, 37.41985507755152], [-122.18902445379463, 37.41985573553016], [-122.189016678334, 37.41985594086259], [-122.18900890632914, 37.41985569015838], [-122.18900117909526, 37.419854982822756], [-122.18899353469118, 37.41985382654859], [-122.18898602138015, 37.419852223388], [-122.18897867377798, 37.419850181083376], [-122.18897153363493, 37.41984771826207]]]}}, {"type": "Feature", "properties": {"APN": "074-311-530"}, "geometry": {"type": "Polygon", "coordinates": [[[-122.18878375471598, 37.41967485562211], [-122.18901315164386, 37.41959905430891], [-122.18908375829929, 37.4195727470543], [-122.1891217703285, 37.41959892993508], [-122.18912211447335, 37.41964487522131], [-122.18901596770046, 37.419838997190766], [-122.18897153363493, 37.41984771826207], [-122.18889097797906, 37.4198262873493], [-122.18888596797947, 37.419824356974765], [-122.18888124137007, 37.41982201323162], [-122.18887684709757, 37.41981928837821], [-122.18887284080807, 37.41981620633568], [-122.18886926474875, 37.41981280769952], [-122.18886615753748, 37.41980912487676], [-122.18886355459766, 37.419805201307966], [-122.18886148108611, 37.41980108332847], [-122.18885996892115, 37.419796811682374], [-122.18885902610701, 37.41979243569883], [-122.18885866759595, 37.41978800735381], [-122.18885889788717, 37.41978357327993], [-122.18885971121317, 37.41977918300453], [-122.18886110174438, 37.41977488330891], [-122.1888728266209, 37.4197457209401], [-122.18880664473987, 37.41972816770814], [-122.18878375471598, 37.41967485562211]]]}}, {"type": "Feature", "properties": {"APN": "074-311-540"}, "geometry": {"type": "Polygon", "coordinates": [[[-122.18912211447335, 37.41964487522131], [-122.1891217703285, 37.41959892993508], [-122.18933882929944, 37.41951350464724], [-122.1896072139805, 37.41960089207751], [-122.1893937101472, 37.41974569323376], [-122.18912211447335, 37.41964487522131]]]}}, {"type": "Feature", "properties": {"APN": "074-311-550"}, "geometry": {"type": "Polygon", "coordinates": [[[-122.18832309764002, 37.41935881755142], [-122.1883292964177, 37.419350575532825], [-122.18865148411646, 37.4191753338401], [-122.18929830081903, 37.41950030698456], [-122.18933882929944, 37.41951350464724], [-122.1891217703285, 37.41959892993508], [-122.18908375829929, 37.4195727470543], [-122.18901315164386, 37.41959905430891], [-122.18878375471598, 37.41967485562211], [-122.18872004348562, 37.419526453638895], [-122.18832309764002, 37.41935881755142]]]}}]};

    function onEachFeature(feature, layer) {
      const apn = feature.properties.APN || feature.properties.apn || "No APN";
      layer.bindTooltip(apn, {
        permanent: true,
        direction: 'center',
        className: 'leaflet-label'
      });
    }

    L.geoJSON(parcelData, {
      onEachFeature: onEachFeature,
      style: {
        color: "#ff7800",
        weight: 2,
        fillOpacity: 0.1
      }
    }).addTo(map);

    map.fitBounds([[37.4191753338401, -122.1896072139805], [37.41991526779109, -122.18811495955745]]);
  </script>
</body>
</html>
